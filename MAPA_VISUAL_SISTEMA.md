# ğŸ¨ MAPA VISUAL DO SISTEMA - My ERP

## ğŸ—ï¸ ARQUITETURA GERAL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USUÃRIOS                                â”‚
â”‚                    (Barbearias/SalÃµes)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND (Next.js 15)                        â”‚
â”‚                https://vrb-erp-frontend.vercel.app              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Login   â”‚ â”‚Dashboard â”‚ â”‚Agendamen.â”‚ â”‚ Clientes â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Produtos â”‚ â”‚Financeiroâ”‚ â”‚ComissÃµes â”‚ â”‚  Metas   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚   POS    â”‚ â”‚SuperAdminâ”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTPS/REST API (JWT)
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND (Django 5 + DRF)                      â”‚
â”‚           https://myerp-production-4bb9.up.railway.app          â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              CAMADAS DE SEGURANÃ‡A                        â”‚   â”‚
â”‚  â”‚  1ï¸âƒ£ Middleware Tenant   2ï¸âƒ£ Permissions                   â”‚   â”‚
â”‚  â”‚  3ï¸âƒ£ QuerySet Filters    4ï¸âƒ£ Serializer Validations        â”‚   â”‚
â”‚  â”‚  5ï¸âƒ£ Model Validations                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Core   â”‚ â”‚Schedulingâ”‚ â”‚Customers â”‚ â”‚Inventory â”‚          â”‚
â”‚  â”‚  (Auth)  â”‚ â”‚  (Apts)  â”‚ â”‚(Clientes)â”‚ â”‚(Produtos)â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚Financial â”‚ â”‚Commissionâ”‚ â”‚  Goals   â”‚ â”‚   POS    â”‚          â”‚
â”‚  â”‚   ($)    â”‚ â”‚   (%)    â”‚ â”‚  (ğŸ¯)    â”‚ â”‚  (ğŸ›’)    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚  Notify  â”‚ â”‚SuperAdminâ”‚                                     â”‚
â”‚  â”‚   (ğŸ””)   â”‚ â”‚  (ğŸ‘‘)    â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ PostgreSQL (Session Pooler)
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DATABASE (Supabase PostgreSQL)                 â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   MULTI-TENANT DATA                       â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Tenant A         Tenant B         Tenant C               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚
â”‚  â”‚  â”‚ Users  â”‚      â”‚ Users  â”‚      â”‚ Users  â”‚             â”‚  â”‚
â”‚  â”‚  â”‚ Apts   â”‚      â”‚ Apts   â”‚      â”‚ Apts   â”‚             â”‚  â”‚
â”‚  â”‚  â”‚ Sales  â”‚      â”‚ Sales  â”‚      â”‚ Sales  â”‚             â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚
â”‚  â”‚  ISOLAMENTO TOTAL - Cada tenant sÃ³ vÃª seus dados         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ MÃ“DULOS E SUAS FUNCIONALIDADES

### 1ï¸âƒ£ CORE (FundaÃ§Ã£o)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          CORE MODULE               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ AutenticaÃ§Ã£o JWT                 â”‚
â”‚ â€¢ Multi-Tenancy (Isolamento)       â”‚
â”‚ â€¢ Gerenciamento de UsuÃ¡rios        â”‚
â”‚ â€¢ Convites para Equipe             â”‚
â”‚ â€¢ Roles (admin, barbeiro, caixa)   â”‚
â”‚ â€¢ Super Admin                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ Fornece base para
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Todos os outros mÃ³dulos         â”‚
â”‚    herdam TenantAwareModel         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2ï¸âƒ£ SCHEDULING (Agendamentos)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SCHEDULING MODULE             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“… Agendamentos                    â”‚
â”‚   â€¢ Criar/Editar/Cancelar          â”‚
â”‚   â€¢ Confirmar/Iniciar/Concluir     â”‚
â”‚   â€¢ Filtros (data, status, prof)   â”‚
â”‚   â€¢ Agendamentos do dia/semana     â”‚
â”‚                                     â”‚
â”‚ âœ‚ï¸ ServiÃ§os                         â”‚
â”‚   â€¢ CatÃ¡logo (Corte, Barba, etc)   â”‚
â”‚   â€¢ PreÃ§o e DuraÃ§Ã£o                â”‚
â”‚   â€¢ Ativar/Desativar               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3ï¸âƒ£ CUSTOMERS (Clientes)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       CUSTOMERS MODULE             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ Cadastro Completo               â”‚
â”‚   â€¢ Nome, CPF, Email, Telefone     â”‚
â”‚   â€¢ EndereÃ§o completo              â”‚
â”‚   â€¢ Data de nascimento             â”‚
â”‚   â€¢ Notas e observaÃ§Ãµes            â”‚
â”‚                                     â”‚
â”‚ ğŸ“Š HistÃ³rico                       â”‚
â”‚   â€¢ Agendamentos anteriores        â”‚
â”‚   â€¢ Compras realizadas             â”‚
â”‚   â€¢ EstatÃ­sticas do cliente        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4ï¸âƒ£ INVENTORY (Estoque)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       INVENTORY MODULE             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“¦ Produtos                        â”‚
â”‚   â€¢ Pomadas, Shampoos, etc         â”‚
â”‚   â€¢ PreÃ§o de Custo vs Venda        â”‚
â”‚   â€¢ Estoque atual                  â”‚
â”‚   â€¢ Estoque mÃ­nimo                 â”‚
â”‚   â€¢ Categorias                     â”‚
â”‚                                     â”‚
â”‚ ğŸ“¥ğŸ“¤ MovimentaÃ§Ãµes                  â”‚
â”‚   â€¢ Entrada (Compra)               â”‚
â”‚   â€¢ SaÃ­da (Venda/Uso)              â”‚
â”‚   â€¢ Ajustes manuais                â”‚
â”‚   â€¢ HistÃ³rico completo             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5ï¸âƒ£ FINANCIAL (Financeiro)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       FINANCIAL MODULE             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’° TransaÃ§Ãµes                      â”‚
â”‚   â€¢ Receitas (vendas, serviÃ§os)    â”‚
â”‚   â€¢ Despesas (fornecedores, etc)   â”‚
â”‚   â€¢ Categorias                     â”‚
â”‚   â€¢ MÃ©todos de Pagamento           â”‚
â”‚                                     â”‚
â”‚ ğŸ“ˆ Fluxo de Caixa                  â”‚
â”‚   â€¢ Saldo consolidado              â”‚
â”‚   â€¢ Resumo por perÃ­odo             â”‚
â”‚   â€¢ ExportaÃ§Ã£o CSV/Excel           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6ï¸âƒ£ COMMISSIONS (ComissÃµes)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      COMMISSIONS MODULE            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ Regras de ComissÃ£o              â”‚
â”‚   â€¢ Percentual configurÃ¡vel        â”‚
â”‚   â€¢ Por profissional               â”‚
â”‚   â€¢ Por serviÃ§o                    â”‚
â”‚   â€¢ Global (padrÃ£o)                â”‚
â”‚   â€¢ Prioridades                    â”‚
â”‚                                     â”‚
â”‚ ğŸ’µ CÃ¡lculo AutomÃ¡tico              â”‚
â”‚   â€¢ Baseado em vendas              â”‚
â”‚   â€¢ HistÃ³rico de comissÃµes         â”‚
â”‚   â€¢ Marcar como paga               â”‚
â”‚   â€¢ Resumo por profissional        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7ï¸âƒ£ GOALS (Metas)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GOALS MODULE               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¯ Tipos de Meta                   â”‚
â”‚   â€¢ Individual ou Equipe           â”‚
â”‚   â€¢ Faturamento                    â”‚
â”‚   â€¢ Quantidade de Vendas           â”‚
â”‚   â€¢ Novos Clientes                 â”‚
â”‚                                     â”‚
â”‚ ğŸ“Š Acompanhamento                  â”‚
â”‚   â€¢ Progresso automÃ¡tico           â”‚
â”‚   â€¢ PerÃ­odos (dia, semana, mÃªs)    â”‚
â”‚   â€¢ Ranking de profissionais       â”‚
â”‚   â€¢ Dashboard de metas             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8ï¸âƒ£ POS (Ponto de Venda)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          POS MODULE                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’³ Vendas                          â”‚
â”‚   â€¢ ServiÃ§os + Produtos            â”‚
â”‚   â€¢ MÃºltiplos itens                â”‚
â”‚   â€¢ Descontos                      â”‚
â”‚   â€¢ MÃ©todos de pagamento           â”‚
â”‚   â€¢ Cancelamento                   â”‚
â”‚                                     â”‚
â”‚ ğŸ¦ Controle de Caixa               â”‚
â”‚   â€¢ Abertura com saldo inicial     â”‚
â”‚   â€¢ Fechamento com conferÃªncia     â”‚
â”‚   â€¢ Sangria/ReforÃ§o                â”‚
â”‚   â€¢ Quebra de caixa                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9ï¸âƒ£ NOTIFICATIONS (NotificaÃ§Ãµes)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     NOTIFICATIONS MODULE           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”” Sistema de Avisos               â”‚
â”‚   â€¢ NotificaÃ§Ãµes in-app            â”‚
â”‚   â€¢ Contador de nÃ£o lidas          â”‚
â”‚   â€¢ Marcar como lida               â”‚
â”‚   â€¢ Prioridades                    â”‚
â”‚   â€¢ Tipos (info, warning, error)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”Ÿ SUPERADMIN (Painel Administrativo)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       SUPERADMIN MODULE            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘‘ Gerenciamento Global            â”‚
â”‚   â€¢ Todos os Tenants               â”‚
â”‚   â€¢ Suspender/Ativar empresas      â”‚
â”‚   â€¢ Assinaturas e planos           â”‚
â”‚   â€¢ HistÃ³rico de pagamentos        â”‚
â”‚                                     â”‚
â”‚ ğŸ“Š Monitoramento                   â”‚
â”‚   â€¢ Erros do sistema               â”‚
â”‚   â€¢ EstatÃ­sticas de uso            â”‚
â”‚   â€¢ Receita por plano              â”‚
â”‚   â€¢ Dashboard executivo            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ FLUXO DE DADOS TÃPICO

### Exemplo: Criar um Agendamento
```
1. USUÃRIO (Frontend)
   â”‚
   â”œâ”€â†’ Seleciona cliente
   â”œâ”€â†’ Escolhe serviÃ§o
   â”œâ”€â†’ Seleciona profissional
   â”œâ”€â†’ Define data/hora
   â””â”€â†’ Clica em "Criar"
   
2. FRONTEND (React Query)
   â”‚
   â”œâ”€â†’ Hook: useCreateAppointment()
   â”œâ”€â†’ API: POST /api/scheduling/appointments/
   â””â”€â†’ Envia dados com JWT token
   
3. BACKEND (Django)
   â”‚
   â”œâ”€â†’ Middleware: Identifica tenant do usuÃ¡rio
   â”œâ”€â†’ Permission: Verifica se tem permissÃ£o
   â”œâ”€â†’ Serializer: Valida dados
   â”œâ”€â†’ ValidaÃ§Ã£o: Verifica se serviÃ§o/profissional pertencem ao tenant
   â””â”€â†’ Model: Salva com tenant_id automÃ¡tico
   
4. DATABASE (PostgreSQL)
   â”‚
   â”œâ”€â†’ Insert na tabela scheduling_appointment
   â”œâ”€â†’ tenant_id = tenant do usuÃ¡rio logado
   â””â”€â†’ Retorna registro criado
   
5. BACKEND â†’ FRONTEND
   â”‚
   â”œâ”€â†’ Retorna dados do agendamento
   â””â”€â†’ Status 201 Created
   
6. FRONTEND (React Query)
   â”‚
   â”œâ”€â†’ Invalida cache de appointments
   â”œâ”€â†’ Atualiza lista automaticamente
   â””â”€â†’ Mostra mensagem de sucesso
```

---

## ğŸ”’ CAMADAS DE SEGURANÃ‡A MULTI-TENANT

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REQUISIÃ‡ÃƒO DO USUÃRIO                    â”‚
â”‚              "Listar todos os agendamentos"                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1ï¸âƒ£ MIDDLEWARE - TenantMiddleware                          â”‚
â”‚     â€¢ Extrai tenant_id do usuÃ¡rio logado                    â”‚
â”‚     â€¢ Adiciona ao request: request.tenant = user.tenant     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2ï¸âƒ£ PERMISSIONS - IsSameTenant                             â”‚
â”‚     â€¢ Verifica se obj.tenant == request.user.tenant         â”‚
â”‚     â€¢ Bloqueia acesso se tenants diferentes                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ï¸âƒ£ QUERYSET FILTER - get_queryset()                       â”‚
â”‚     â€¢ Aplica filtro automÃ¡tico:                             â”‚
â”‚     â€¢ Appointment.objects.filter(tenant=request.tenant)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4ï¸âƒ£ SERIALIZER VALIDATION - validate()                     â”‚
â”‚     â€¢ Verifica relacionamentos (service, professional)      â”‚
â”‚     â€¢ Garante que pertencem ao mesmo tenant                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5ï¸âƒ£ MODEL VALIDATION - clean() / save()                    â”‚
â”‚     â€¢ Ãšltima camada de validaÃ§Ã£o                            â”‚
â”‚     â€¢ Garante integridade antes de salvar no DB             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              âœ… DADOS RETORNADOS (SEGUROS)                  â”‚
â”‚         Apenas agendamentos do tenant do usuÃ¡rio            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š TABELAS PRINCIPAIS DO DATABASE

```sql
-- Tabela Central: Tenants (Empresas)
core_tenant
â”œâ”€â”€ id (UUID)
â”œâ”€â”€ name (Nome da empresa)
â”œâ”€â”€ owner_id (Dono da conta)
â”œâ”€â”€ plan (basico, premium)
â””â”€â”€ is_active

-- Tabela de UsuÃ¡rios (Multi-Tenant)
core_user
â”œâ”€â”€ id (UUID)
â”œâ”€â”€ email (Ãšnico)
â”œâ”€â”€ password (Hash)
â”œâ”€â”€ tenant_id â† CAMPO MAIS IMPORTANTE
â”œâ”€â”€ role (admin, barbeiro, caixa, superadmin)
â””â”€â”€ is_active

-- Agendamentos (Multi-Tenant)
scheduling_appointment
â”œâ”€â”€ id (UUID)
â”œâ”€â”€ tenant_id â† Isolamento
â”œâ”€â”€ customer_name
â”œâ”€â”€ service_id
â”œâ”€â”€ professional_id (User)
â”œâ”€â”€ start_time
â”œâ”€â”€ status
â””â”€â”€ notes

-- Produtos (Multi-Tenant)
inventory_product
â”œâ”€â”€ id (UUID)
â”œâ”€â”€ tenant_id â† Isolamento
â”œâ”€â”€ name
â”œâ”€â”€ category
â”œâ”€â”€ cost_price
â”œâ”€â”€ sale_price
â”œâ”€â”€ stock_quantity
â””â”€â”€ is_active

-- TransaÃ§Ãµes Financeiras (Multi-Tenant)
financial_transaction
â”œâ”€â”€ id (UUID)
â”œâ”€â”€ tenant_id â† Isolamento
â”œâ”€â”€ type (receita, despesa)
â”œâ”€â”€ amount
â”œâ”€â”€ category
â”œâ”€â”€ payment_method_id
â”œâ”€â”€ date
â””â”€â”€ description

-- ComissÃµes (Multi-Tenant)
commissions_commission
â”œâ”€â”€ id (UUID)
â”œâ”€â”€ tenant_id â† Isolamento
â”œâ”€â”€ professional_id (User)
â”œâ”€â”€ service_id
â”œâ”€â”€ amount
â”œâ”€â”€ percentage
â”œâ”€â”€ is_paid
â””â”€â”€ paid_at

-- E mais 15+ tabelas...
```

---

## ğŸ¯ PONTOS DE ATENÃ‡ÃƒO PARA TESTES

### âš ï¸ CrÃ­tico - Testar Primeiro
1. **Isolamento Multi-Tenant**
   - Criar 2 tenants
   - Verificar se dados nÃ£o vazam entre eles
   
2. **AutenticaÃ§Ã£o**
   - Login/Logout
   - Refresh token
   - PermissÃµes por role

3. **Fluxos Principais**
   - Criar agendamento â†’ vender â†’ gerar comissÃ£o
   - Abrir caixa â†’ fazer vendas â†’ fechar caixa

### ğŸŸ¡ Importante - Testar Depois
4. **ValidaÃ§Ãµes de NegÃ³cio**
   - Estoque negativo
   - HorÃ¡rios conflitantes
   - ComissÃµes mÃºltiplas

5. **Performance**
   - PaginaÃ§Ã£o com muitos dados
   - Queries complexas (dashboards)
   - ExportaÃ§Ã£o de relatÃ³rios

---

**Documento criado para facilitar testes e entendimento do sistema**  
**Ãšltima atualizaÃ§Ã£o:** 05/11/2025
